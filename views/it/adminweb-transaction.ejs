<div class="container-fluid mt-4">
  <!-- ðŸ”¹ Loading Skeleton -->
  <div id="loadingskeleton" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">Memuat data, mohon tunggu...</p>
  </div>
  <div id="showmainpage" style="display:none;">
    <h1 class="mb-4">CRUD ADMIN WEB TRANSACTION</h1>
    <!-- ðŸ”¹ Grid Summary Cards -->
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-4 g-3 mb-4" id="summaryGrid">
      <div class="col">
        <div class="card border-primary text-primary text-center shadow-sm h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <i class="bi bi-box-seam display-6"></i>
            <h6 class="mt-2 mb-0">Total Item</h6>
            <h4 class="fw-bold mb-0" id="totalItem">0</h4>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card border-warning text-warning text-center shadow-sm h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <i class="bi bi-hourglass-split display-6"></i>
            <h6 class="mt-2 mb-0">Proses</h6>
            <h4 class="fw-bold mb-0" id="itemProses">0</h4>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card border-success text-success text-center shadow-sm h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <i class="bi bi-check-circle display-6"></i>
            <h6 class="mt-2 mb-0">Selesai</h6>
            <h4 class="fw-bold mb-0" id="itemSelesai">0</h4>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card border-danger text-danger text-center shadow-sm h-100">
          <div class="card-body d-flex flex-column justify-content-center">
            <i class="bi bi-exclamation-circle display-6"></i>
            <h6 class="mt-2 mb-0">Tertunda</h6>
            <h4 class="fw-bold mb-0" id="itemTertunda">0</h4>
          </div>
        </div>
      </div>
    </div>
    <div class="table-container mt-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5>Data List</h5>
        <input type="text" id="searchInput" class="form-control" style="width: 250px" placeholder="Cari Data ..." />
      </div>

      <div class="d-flex flex-column">
        <div class="d-flex flex-column flex-column gap-3" id="alldattab"></div>
        <div id="datatidakditemukan" style="display: none;">
          <p style="text-align: center;">Data tidak ditemukan</p>
        </div>
      </div>

      <nav class="mt-3">
        <ul class="pagination justify-content-center" id="pagination"></ul>
      </nav>

    </div>
  </div>
</div>

<!-- =======================
ðŸ“ Modal Edit Detail (Full) - WITH TABS, FLAGS, IMAGES, EXTRACHARGE, HISTORY
======================= -->
<div class="modal fade" id="modalEditDetail" tabindex="-1" aria-labelledby="modalEditDetailLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-light">
        <h5 class="modal-title fw-semibold" id="modalEditDetailLabel">
          <i class="bi bi-pencil-square me-2 text-primary"></i> Edit Detail Transaksi
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body small">
        <!-- Nav Tabs -->
        <ul class="nav nav-tabs" id="editDetailTabs" role="tablist">
          <li class="nav-item"><button class="nav-link active" id="tab-main-btn" data-bs-toggle="tab"
              data-bs-target="#tab-main" type="button" role="tab">Detail Utama</button></li>
        </ul>

        <div class="tab-content mt-3" id="editDetailTabsContent">
          <!-- ===== TAB MAIN ===== -->
          <div class="tab-pane fade show active" id="tab-main" role="tabpanel">
            <form id="formEditDetail" class="row g-3">
              <div class="col-12 text-center">
                <img id="editImage" src="" alt="Produk" class="img-fluid rounded shadow-sm mb-2"
                  style="max-height:220px; object-fit:cover;">
              </div>

              <div class="col-md-4">
                <label class="form-label fw-semibold">ID Transaksi</label>
                <input type="text" class="form-control" id="editIdTransaksi" readonly />
              </div>

              <div class="col-md-4">
                <label class="form-label fw-semibold">Tanggal Beli</label>
                <input type="datetime-local" class="form-control" id="editTanggalBeli" readonly />
              </div>

              <div class="col-md-4">
                <label class="form-label fw-semibold">Produk ID</label>
                <input type="text" class="form-control" id="editProdukID" readonly />
              </div>

              <div class="col-md-6">
                <label class="form-label fw-semibold">Item</label>
                <input type="text" class="form-control" id="editItem" />
              </div>
              <div class="col-md-2">
                <label class="form-label fw-semibold">Qty</label>
                <input type="number" class="form-control" id="editQty" min="1" />
              </div>
              <div class="col-md-4">
                <label class="form-label fw-semibold">Expedisi</label>
                <input type="text" class="form-control" id="editExpedisi" />
              </div>

              <div class="col-md-6">
                <label class="form-label fw-semibold">Buyer Name</label>
                <input type="text" class="form-control" id="editBuyerName" />
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">Phone Number</label>
                <input type="text" class="form-control" id="editPhoneNumber" />
              </div>

              <div class="col-12">
                <label class="form-label fw-semibold">Address</label>
                <textarea class="form-control" id="editAddress" rows="2"></textarea>
              </div>

              <div class="col-md-3">
                <label class="form-label fw-semibold">Harga Produk</label>
                <input type="number" class="form-control" id="editPrice" readonly />
              </div>
              <div class="col-md-3">
                <label class="form-label fw-semibold">Harga Akhir (Total)</label>
                <input type="number" class="form-control" id="editFinalPrice" readonly />
              </div>
              <div class="col-md-3">
                <label class="form-label fw-semibold">Total Cashback</label>
                <input type="number" class="form-control" id="editTotalCashback" readonly />
              </div>
              <div class="col-md-3">
                <label class="form-label fw-semibold">Total Diskon</label>
                <input type="number" class="form-control" id="editTotalDiskon" readonly />
              </div>

              <div class="col-12">
                <label class="form-label fw-semibold">List Diskon</label>
                <textarea class="form-control" id="listdiskon" rows="3" readonly></textarea>
              </div>

              <div class="col-md-6">
                <label class="form-label fw-semibold">Status</label>
                <input type="text" class="form-control" id="editStatus" />
              </div>

              <div class="col-md-6">
                <label class="form-label fw-semibold">Notes</label>
                <textarea class="form-control" id="editNotes" rows="2"></textarea>
              </div>

              <div class="col-md-6">
                <label class="form-label fw-semibold">Token Beli</label>
                <input type="text" class="form-control" id="editTokenBeli" readonly />
              </div>
              <div class="col-md-6">
                <label class="form-label fw-semibold">UTM Name</label>
                <input type="text" class="form-control" id="editUTMName" readonly />
              </div>
            </form>
          </div>

          <!-- Tabs lain (flags, prod, extra, history) tetap seperti sebelumnya -->
          <!-- ... (tidak diubah) ... -->
        </div>
      </div>

      <div class="modal-footer">
        <small class="text-muted me-auto">Semua field bisa diedit â€” perubahan akan dikirim ke server.</small>
        <button type="button" class="btn btn-light border" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" id="saveEditDetail">Save Changes</button>
      </div>
    </div>
  </div>
</div>

